---
import BaseCenteredTitle from "../../components/BaseCenteredTitle.astro";
import Tag from "../../components/Tag.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("blog");
const tags = [...new Set(posts.flatMap((p) => p.data.tags)
  .sort(
    (a, b) =>
      (b.data.date === undefined ? 0 : b.data.date.valueOf()) -
      (a.data.date === undefined ? 0 : a.data.date.valueOf()),)];

const title = `Tags`;
---

<BaseCenteredTitle title={title} lang="en">
  {tags.map((tag) => <Tag tag={tag} />)}
</BaseCenteredTitle>
